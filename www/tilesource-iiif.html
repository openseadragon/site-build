<h2>
    example: iiif tile support
</h2>
<p>
    The latest version (1.1) of the International Image Interoperability Framework: Image API is formally described
    <a href='http://www-sul.stanford.edu/iiif/image-api/1.1/'>here</a>.
</p>
<p>
    The IIIF API specifies a web service that returns an image in response to a standard HTTP or HTTPS request. 
    The URL can specify the region, size, rotation, quality, and format of the requested image. A 
    URL can also be constructed to request basic technical information about the image to support client 
    applications.  The IIIF API was designed to facilitate systematic reuse of image resources in digital 
    image repositories maintained by cultural heritage organizations. The API could be adopted by any image 
    repository or service, and can be used to retrieve static images in response to a properly constructed URL.
</p>
<p>
    OpenSeadragon has added support for IIIF thanks to several of the
    authors of its specification,
    as well as the <a href='https://gist.github.com/jpstroop/4624253'>gist</a>
    provided by <a href='http://github.com/jpstroop'>Jon Stroop</a>.
</p>


<div class="description">
    <h3>Inline Configuration for IIIF Tile Sources</h3>
    <p>
        Inline configuration is very straightforward.  The tile source type is
        identified by its <code>profile</code> attribute and must specify the 
        URL of the tile service with the <code>tilesUrl</code> attribute.
    </p>
</div>
<div class="demoarea">
    <div class="demoheading">
        Example Inline Configuration for IIIF
    </div>
    <div id="example-inline-configuration-for-iiif" 
         class="openseadragon">
    </div>
    <p>
        In this example we also specified the <code>preserveViewport</code> option to retain the 
        viewport zoom and position when changing pages.

    </p>
    <p>
       In order to make this feel a little more like a basic book turner, we are
       adding a useful combination of other options that help to constrain the viewport.
    </p>
<pre>
OpenSeadragon({
    ...
    preserveViewport: true,
    visibilityRatio:    1,
    minZoomLevel:       1,
    defaultZoomLevel:   1,
    tileSources:   [{
        "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
        "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2",
        "formats": [ "jpg", "png", "gif" ],
        "height": 3600,
        "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
        "qualities": [ "native", "bitonal", "grey", "color" ],
        "scale_factors": [ 1, 2, 4, 8, 16 ],
        "tile_height": 256,
        "tile_width": 256,
        "width": 2617
    },
       ...
    ]
    ...
});</pre>
</div>
<script type="text/javascript">
    OpenSeadragon({
        id:                 "example-inline-configuration-for-iiif",
        prefixUrl:          "/openseadragon/images/",
        preserveViewport:   true,
        visibilityRatio:    1,
        minZoomLevel:       1,
        defaultZoomLevel:   1,
        tileSources:   [{
            "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
            "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2",
            "formats": [ "jpg", "png", "gif" ],
            "height": 3600,
            "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
            "qualities": [ "native", "bitonal", "grey", "color" ],
            "scale_factors": [ 1, 2, 4, 8, 16 ],
            "tile_height": 256,
            "tile_width": 256,
            "width": 2617
        },{
            "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
            "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000002.jp2",
            "formats": [ "jpg", "png", "gif" ],
            "height": 3600,
            "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
            "qualities": [ "native", "bitonal", "grey", "color" ],
            "scale_factors": [ 1, 2, 4, 8, 16 ],
            "tile_height": 256,
            "tile_width": 256,
            "width": 2547
        },{
            "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
            "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000003.jp2",
            "formats": [ "jpg", "png", "gif" ],
            "height": 3600,
            "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
            "qualities": [ "native", "bitonal", "grey", "color" ],
            "scale_factors": [ 1, 2, 4, 8, 16 ],
            "tile_height": 256,
            "tile_width": 256,
            "width": 2694
        },{
            "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
            "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000004.jp2",
            "formats": [ "jpg", "png", "gif" ],
            "height": 3600,
            "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
            "qualities": [ "native", "bitonal", "grey", "color" ],
            "scale_factors": [ 1, 2, 4, 8, 16 ],
            "tile_height": 256,
            "tile_width": 256,
            "width": 2717
        }]
    });
</script>

<div class="description">
    <h3>XMLHTTPRequest for IIIF info.json</h3>
    <p>Note: The following examples follows the IIIF Image API specification 
        version 1.1. The older 1.0 XML and JSON syntaxes is also supported. 
    </p>
</div>
<div class="demoarea">
    <div class="demoheading">
        Example XMLHTTPRequest for IIIF info JSON
    </div>
    <div id="example-xmlhttprequest-for-info-json" 
         class="openseadragon">
        <script type="text/javascript">
            OpenSeadragon({
                id:            "example-xmlhttprequest-for-info-json",
                prefixUrl:     "/openseadragon/images/",
                tileSources:   [
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000002.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000003.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000004.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000005.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000006.jp2/info.json",
                    "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000007.jp2/info.json"
                ]
            });
        </script>
        <noscript>
            <p>OpenSeadragon is not available unless JavaScript is enabled.</p>
            <img src='/example-images/highsmith/01967v.jpg'
                 height='600'/>
        </noscript>
    </div>
    <p>
        Below is a sample IIIF info file.
    </p>
<pre>
{
    "@context": "http://library.stanford.edu/iiif/image-api/1.1/context.json",
    "@id": "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2",
    "formats": [ "jpg","png","gif"],
    "height": 3600,
    "width": 2617,
    "profile": "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",
    "qualities": ["native","bitonal","grey","color"],
    "scale_factors": [1,2,4,8,16],
    "tile_height": 256,
    "tile_width": 256
}</pre>
<pre>
OpenSeadragon({
    ...
    tileSources:   [
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000002.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000003.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000004.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000005.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000006.jp2/info.json",
        "http://libimages.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000007.jp2/info.json"
    ]
    ...
});</pre>
</div>
